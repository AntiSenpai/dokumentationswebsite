{# templates/customer/detail.html.twig #}
{% extends 'base.html.twig' %}
{% block stylesheets %}
<link rel="stylesheet" href="{{ asset('css/styles.css') }}">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="{{ asset('css/detail.css') }}">
{% endblock %}

{% block body %}
<body style="background-color: #243668;">
    <div class="d-flex" id="wrapper">
        <div class="bg-light border-right" id="sidebar-wrapper">
            <div class="list-group list-group-flush">
              <div class="bg-light border-right" id="sidebar-wrapper">
            <div class="list-group list-group-flush">
                <a href="#allgemein" data-id="1" class="list-group-item list-group-item-action bg-light">Allgemein</a>
                <a href="#netz" data-id="2" class="list-group-item list-group-item-action bg-light">Netz</a>
                <a href="#server" data-id="3" class="list-group-item list-group-item-action bg-light">Server</a>
                <a href="#clients" data-id="4" class="list-group-item list-group-item-action bg-light">Clients</a>
                <a href="#user" data-id="5" class="list-group-item list-group-item-action bg-light">User / Pwd's</a>
                <a href="#router" data-id="6" class="list-group-item list-group-item-action bg-light">Router / Firewall</a>
                <a href="#provider" data-id="7" class="list-group-item list-group-item-action bg-light">Provider</a>
                <a href="#fernwartung" class="list-group-item list-group-item-action bg-light">Fernwartung</a>
                <a href="#backup" class="list-group-item list-group-item-action bg-light">Backup</a>
                <a href="#USV" class="list-group-item list-group-item-action bg-light">USV</a>
                <a href="#antivirus" class="list-group-item list-group-item-action bg-light">Antivirus</a>
                <a href="#software" class="list-group-item list-group-item-action bg-light">Software</a>
                <a href="#sonstiges" class="list-group-item list-group-item-action bg-light">Sonstige Informationen</a>
            </div>
        </div>
            </div>
        </div>
        <div id="page-content-wrapper">
        <nav class="navbar">
            <a class="navbar-brand" href="{{ path('home') }}">
                <img src="{{ asset('images/nnclogo.png') }}" alt="NNC Logo">
                {{ customer.name }}
            </a>
        </nav>
            <div class="container-fluid">
                <h1 class="mt-4">Schnelldokumentation:</h1>
                <div data-id="1" id="allgemein" class="content-section">
                </div>
                <div id="netz" class="content-section">
                </div>
                <div id="server" class="content-section">
                </div>
                <div id="clients" class="content-section">
                <h1>test</h1>
                </div>
                <div id="user" class="content-section">
                </div>
                <div id="router" class="content-section">
                </div>
                <div id="provider" class="content-section">
                </div>
                <div id="fernwartung" class="content-section">
                </div>
                <div id="backup" class="content-section">
                </div>
                <div id="USV" class="content-section">
                </div>
                <div id="antivirus" class="content-section">
                </div>
                <div id="software" class="content-section">
                </div>
                <div id="sonstiges" class="content-section">
                </div>
            </div>
        </div>
    </div>
</body>
{% endblock %}

{% block javascripts %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var sidebarLinks = document.querySelectorAll('.list-group-item');

    sidebarLinks.forEach(function(link) {
        link.addEventListener('click', function(e) {
            e.preventDefault();

            var contentSections = document.querySelectorAll('.content-section');
            contentSections.forEach(function(section) { section.style.display = 'none'; });

            var targetSectionId = this.getAttribute('href').substring(1);
            var targetSection = document.getElementById(targetSectionId);

            var id = this.getAttribute('data-id');

            if (targetSection) {
                fetch(`/ajax/generalinfo/${id}`) // Verwenden der extrahierten ID
                    .then(response => response.text())
                    .then(html => {
                        targetSection.innerHTML = html;
                        targetSection.style.display = 'block';
                        this.classList.add('active');
                    })
                    .catch(error => console.error('Error:', error));
            }
        });
    });
});
</script>
{% endblock %}
